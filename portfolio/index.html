<!DOCTYPE html>
<head>
    <meta charset="utf-8"/>
    <link rel="stylesheet" type="text/css" href="/index.css"/>
    <title>Ejercicios HTML</title>
</head>
<body>
    <h2 id="exercise-title">Ejercicio 6</h2>
    <p id="exercise-sentence">A partir de la estructura de directorios y archivos indicada en la siguiente imagen:</p>
    <ol id="task-list" class="list-group">
        <li>2) Crear la p&aacute;gina de &iacute;ndice del portfolio:</li>
    </ol>
    <div class="d-flex justify-content-center">
        <article class="w-420 border-3 border-primary rounded-top px-10">
            <main>
                <a id="index-link" href="/exercise/6">Volver a la pagina principal</a>
                <h1>Ultimos proyectos</h1>
                <p>
                    Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Donec 
                    iaculis posuere justo. Nam vel neque.
                </p>
                <h3>Proyecto 1</h3>
                <p>
                    Etiam consectetuer, mauris vitae cursus scelerisque, dui turpis 
                    dignissim justo, et euismod enim  odio sit amet erat.
                </p>
                <a id="project1-link" href="/images/proyecto1.png">Ver imagen del Proyecto 1</a>
                <h3>Proyecto 2</h3>
                <p>
                    Etiam consectetuer, mauris vitae cursus scelerisque, dui turpis 
                    dignissim justo, et euismod enim  odio sit amet erat.
                </p>
                <a id="project2-link" href="/images/proyecto2.png">Ver imagen del Proyecto 2</a>
            </main>
        </article>
    </div>

    <script>
        
        /**
         * Changes textContent from html element by its id
         * @param {string} elemId -> id from html element
         * @param {string} text -> new data for textContent
        */
        function changeText(elemId, text) {
            document.getElementById(elemId).textContent = text
        }

        if (window.opener) {
            let faviconElem = document.createElement('link')
            faviconElem.href = '/favicon'
            faviconElem.rel = 'icon'
            faviconElem.type = 'image/png'
            document.getElementsByTagName('head')[0].appendChild(faviconElem)

            changeText('exercise-title', 'Ejercicio 7')
            changeText('exercise-sentence', 'Enlazar el favicon en todas las páginas del ejercicio 6 y añadir todos los atributos posibles a los enlaces.')

            let taskListElem = document.getElementById('task-list')
            taskListElem.style.display = 'none'

            let indexLink = document.getElementById('index-link')
            indexLink.addEventListener('click', e => {
                e.preventDefault()
                window.open('/exercise/7')
            })
            indexLink.download = 'exercise-7'
            indexLink.hreflang = 'spanish'
            indexLink.media = 'computer'
            indexLink.ping = 'localhost:3000'
            indexLink.referrerpolicy = 'same-origin'
            indexLink.rel = 'exercise 7 pages'
            indexLink.target = '_blank'
            indexLink.type = 'text/html'

            let project1Link = document.getElementById('project1-link')
            project1Link.download = 'exercise-7'
            project1Link.hreflang = 'spanish'
            project1Link.media = 'computer'
            project1Link.ping = 'localhost:3000'
            project1Link.referrerpolicy = 'same-origin'
            project1Link.rel = 'exercise 7 pages'
            project1Link.target = '_blank'
            project1Link.type = 'image/png'
            
            let project2Link = document.getElementById('project2-link')
            project2Link.download = 'exercise-7'
            project2Link.hreflang = 'spanish'
            project2Link.media = 'computer'
            project2Link.ping = 'localhost:3000'
            project2Link.referrerpolicy = 'same-origin'
            project2Link.rel = 'exercise 7 pages'
            project2Link.target = '_blank'
            project2Link.type = 'image/png'
        } else if (window.location.href.search('exercise/10') >= 0) {
            changeText('exercise-title', 'Ejercicio 10')
            changeText('exercise-sentence', 'Modificar la página de índice del portfolio de los ejercicios 6 y 7 para mostrar directamente las imágenes de los proyectos.')

            let taskListElem = document.getElementById('task-list')
            taskListElem.style.display = 'none'
            
            let project1Link = document.getElementById('project1-link')
            project1Link.style.display = 'none'
            project1Link.insertAdjacentHTML('beforebegin', '<img src="/images/proyecto1.png" />')

            let project2Link = document.getElementById('project2-link')
            project2Link.style.display = 'none'
            project2Link.insertAdjacentHTML('beforebegin', '<img src="/images/proyecto2.png" />')
        }
    </script>
</body>
<!DOCTYPE html>
<html>
    <head id="head">
    </head>
    <body>
        <table width="100%" cellpadding="10px">
            <tr>
                <td align="center" width="20%">
                    <nav id="nav">
                    </nav>
                </td>
                <td width="60%">
                    <table>
                        <thead>
                            <tr>
                                <th colspan="2">
                                    <header>
                                        <h1 align="center">CONTACTO</h1>
                                    </header>
                                </th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td width="50%">
                                    <main>
                                        <article>
                                            <form method="POST" action="/contacto.php" 
                                            >
                                                <fieldset>
                                                    <legend>Datos de contacto</legend>
                                                    <div>
                                                        <input type="text" name="name" id="name">&emsp;
                                                        <label for="name">nombres</label>
                                                    </div>
                                                    <div>
                                                        <input type="text" name="lastname" id="lastname">&emsp;
                                                        <label for="lastname">apellidos</label>
                                                    </div>
                                                    <div>
                                                        <input type="email" name="email" id="email">&emsp;
                                                        <label for="email">correo electr&oacute;nico</label>
                                                    </div>
                                                    <div>
                                                        <input type="tel" name="phone" id="phone">&emsp;
                                                        <label for="phone">tel&eacute;fono</label>
                                                    </div>
                                                </fieldset>
                                                <fieldset>
                                                    <legend>Mensaje</legend>
                                                    <div>
                                                        <select name="scope" id="scope">
                                                            <option value="convivence">Convivencia</option>
                                                            <option value="rest">Descanzo</option>
                                                            <option value="initiative">Iniciativa</option>
                                                        </select>&emsp;
                                                        <label for="scope">secci&oacute;n de noticias</label>
                                                    </div>
                                                    <br>
                                                    <div>
                                                        <textarea name="message" id="message" cols="30" rows="10"></textarea>
                                                    </div>
                                                </fieldset>
                                                <fieldset>
                                                    <legend>Sugerencias</legend>
                                                    <textarea name="feedback" id="feedback" cols="30" rows="10"></textarea>
                                                    <div>
                                                        <input type="checkbox" id="give-score" name="give_score" onchange="score.disabled = give_score.checked ? false:true">&emsp;
                                                        <label for="give-score">Marque la casilla para puntuar</label>
                                                    </div>
                                                    <div>
                                                        1<input name="score" id="score" type="range" value="1" max="3" min="1" disabled
                                                        oninput="score_meaning.value = score.value == '1' ? 'malo':score.value == '2' ? 'regular':'bueno'">3&emsp;
                                                        <output name="score_meaning" for="score">malo</output>
                                                    </div>
                                                </fieldset>
                                                <fieldset>
                                                    <input type="submit" value="Enviar">
                                                </fieldset>
                                            </form>
                                        </article>
                                    </main>
                                </td>
                                <td width="50%" align="center">
                                    <img src="./images/mailbox.png" alt="buzon" width="100%">
                                    <div>
                                        Image by <a href="https://pixabay.com/users/susannp4-1777190/?utm_source=link-attribution&amp;utm_medium=referral&amp;utm_campaign=image&amp;utm_content=1564368">Susann Mielke</a> from <a href="https://pixabay.com/?utm_source=link-attribution&amp;utm_medium=referral&amp;utm_campaign=image&amp;utm_content=1564368">Pixabay</a>
                                    </div>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </td>
                <td width="20%">
                    <aside>
                        <section id="ad-section"></section>
                    </aside>
                </td>
            </tr>
            <tfoot>
                <tr>
                    <td colspan="3">
                        <footer id="footer">
                        </footer>
                    </td>
                </tr>
            </tfoot>
        </table>
    </body>
    <script>
        
        //Get exercises nav
        getHtml('/project/nav-exercises', 'nav-exercises')

        // Get nav
        getHtml('/project/nav', 'nav')

        //Get footer
        getHtml('/project/footer', 'footer')

        //Get head
        getHtml('/project/head', 'head')

        //Get add section
        getHtml('/project/adSection', 'ad-section')

        /**
         * Replace html from an element by its id
         * @param {string} url -> url to get html
         * @param {string} id -> id of the element wich html we want to replace
         */
        function getHtml(url, id) {
            fetch(url, {method: 'GET'})
            .then(res => res.json())
            .then(({html, err}) => {
                if (err) {
                    console.log(err)
                } else {
                    document.getElementById(id).innerHTML = html
                }
            })
        }
    </script>
</html>